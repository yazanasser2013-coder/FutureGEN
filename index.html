<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>AI Tools Directory</title>
    <meta name="theme-color" content="#401F71" />

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;800&display=swap"
      rel="stylesheet"
    />

    <!-- Bootstrap + Icons -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
      rel="stylesheet"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="https://unpkg.com/@barba/core"></script>

    <style>
      /* ========== THEME TOKENS ========== */
      :root {
        --primary-color: #401f71;
        --secondary-color: #be7b72;
        --accent-color: #fdaf7b;

        --bg-page: #f8fafc;
        --bg-white: #ffffff;
        --text-dark: #111827;
        --text-muted: #6b7280;
        --border: #e5e7eb;

        --radius-xs: 8px;
        --radius-sm: 12px;
        --radius-md: 16px;

        --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.06);
        --shadow-md: 0 8px 20px -6px rgb(0 0 0 / 0.15);
        --shadow-lg: 0 20px 40px -12px rgb(0 0 0 / 0.25);

        --gradient: linear-gradient(
          135deg,
          var(--primary-color),
          var(--secondary-color)
        );
        --easing: cubic-bezier(0.2, 0.8, 0.2, 1);
        --header-h: 68px;
      }

      html[data-theme="dark"] {
        --bg-page: #0b0f1a;
        --bg-white: #1a2238;
        --text-dark: #e5e7eb;
        --text-muted: #9ca3af;
        --border: #455683;

        --shadow-sm: 0 1px 2px 0 rgb(255 255 255 / 0.04);
        --shadow-md: 0 8px 20px -6px rgb(0 0 0 / 0.4);
        --shadow-lg: 0 20px 40px -12px rgb(0 0 0 / 0.6);
      }

      /* ========== BASE ========== */
      * {
        box-sizing: border-box;
      }
      html,
      body {
        height: 100%;
      }
      body {
        font-family: "Inter", system-ui, -apple-system, Segoe UI, Roboto,
          sans-serif;
        background-color: var(--bg-page);
        color: var(--text-dark);
        line-height: 1.65;
        margin: 0;
        scroll-behavior: smooth;
        transition: background-color 0.3s ease;
        overflow-x: hidden;
      }

      body[dir="rtl"] {
        font-family: "Tajawal", "Inter", sans-serif;
      }

      /* Accessibility */
      .skip-link {
        position: absolute;
        left: -999px;
        top: 8px;
        background: var(--bg-white);
        color: var(--text-dark);
        padding: 0.5rem 0.75rem;
        border-radius: var(--radius-xs);
        z-index: 9999;
      }
      .skip-link:focus {
        left: 8px;
      }

      /* ========== NAV ========== */
      header.sticky-top {
        z-index: 1030;
      }
      
      /* تصميم جديد للـ Navbar */
      .navbar {
        padding: 0.75rem 0;
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
        border-bottom: 1px solid rgba(0, 0, 0, 0.05);
        transition: all 0.3s ease;
      }
      
      html[data-theme="dark"] .navbar {
        background: rgba(26, 34, 56, 0.95);
        border-bottom: 1px solid rgba(255, 255, 255, 0.05);
      }
      
      .navbar-brand {
        font-weight: 700;
        font-size: 1.5rem;
        color: var(--primary-color);
        display: flex;
        align-items: center;
        gap: 10px;
      }
      
      .navbar-brand img {
        height: 40px;
        width: auto;
      }
      
      .nav-link {
        font-weight: 500;
        color: var(--text-dark) !important;
        opacity: 0.8;
        transition: all 0.2s ease;
        margin: 0 0.5rem;
        padding: 0.5rem 1rem !important;
        border-radius: var(--radius-xs);
      }
      
      .nav-link:hover, .nav-link.active {
        opacity: 1;
        background: rgba(64, 31, 113, 0.05);
        color: var(--primary-color) !important;
      }
      
      html[data-theme="dark"] .nav-link:hover, 
      html[data-theme="dark"] .nav-link.active {
        background: rgba(255, 255, 255, 0.05);
      }
      
      .nav-actions {
        display: flex;
        align-items: center;
        gap: 0.75rem;
      }
      
      .nav-search {
        width: 280px;
      }
      
      .nav-search .form-control {
        border-radius: var(--radius-xs) 0 0 var(--radius-xs);
        border: 1px solid var(--border);
        padding: 0.6rem 1rem;
        background: var(--bg-white);
        color: var(--text-dark);
      }
      
      .nav-search .btn {
        border-radius: 0 var(--radius-xs) var(--radius-xs) 0;
      }
      
      .navbar-toggler {
        border: 1px solid var(--border);
        border-radius: var(--radius-xs);
        color: var(--text-dark);
      }
      
      .navbar-toggler i {
        font-size: 1.25rem;
      }

      /* ========== HERO ========== */
      /* خلفية جديدة مشابهة لـ toools.design */
      .hero-section {
        position: relative;
        min-height: 70vh;
        display: flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
        isolation: isolate;
        background: 
          radial-gradient(circle at 20% 80%, rgba(120, 119, 198, 0.3) 0%, transparent 50%),
          radial-gradient(circle at 80% 20%, rgba(255, 119, 198, 0.15) 0%, transparent 50%),
          radial-gradient(circle at 40% 40%, rgba(120, 219, 255, 0.2) 0%, transparent 50%),
          linear-gradient(135deg, #be7b72 0%, #401f71 100%);
      }
      
      html[data-theme="dark"] .hero-section {
        background: 
          radial-gradient(circle at 20% 80%, rgba(120, 119, 198, 0.2) 0%, transparent 50%),
          radial-gradient(circle at 80% 20%, rgba(255, 119, 198, 0.1) 0%, transparent 50%),
          radial-gradient(circle at 40% 40%, rgba(120, 219, 255, 0.15) 0%, transparent 50%),
          linear-gradient(135deg, #0b0f1a 0%, #1a2238 100%);
      }

      .hero-section::before {
        content: "";
        position: absolute;
        inset: 0;
        background: url("https://grainy-gradients.vercel.app/noise.svg");
        opacity: 0.15;
        mix-blend-mode: overlay;
        pointer-events: none;
        z-index: 0;
      }
      
      .hero-content {
        position: relative;
        z-index: 2;
        text-align: center;
        max-width: 800px;
        margin: 0 auto;
        padding: 2rem 1rem;
      }
      
      .hero-title {
        font-size: 3.5rem;
        font-weight: 800;
        letter-spacing: -0.02em;
        margin-bottom: 1.5rem;
        color: var(--text-dark);
        line-height: 1.1;
        color: #e2e2e2;
      }
      
      .hero-subtitle {
        font-size: 1.25rem;
        color: var(--text-muted);
        margin-bottom: 2.5rem;
        max-width: 600px;
        margin-left: auto;
        margin-right: auto;
        color: #fdfafa;
      }
      
      .hero-buttons {
        display: flex;
        gap: 1rem;
        justify-content: center;
        margin-bottom: 3rem;
        flex-wrap: wrap;
      }
      
      /* تنسيق جديد لأيقونات الـ Hero */
      .hero-icons-container {
        display: flex;
        justify-content: center;
        align-items: center;
        flex-wrap: wrap;
        gap: 20px;
        margin-top: 2rem;
        padding: 20px 0;
      }

      .hero-icon {
        display: flex;
        flex-direction: column;
        align-items: center;
        text-decoration: none;
        transition: all 0.3s ease;
        width: 80px;
      }

      .hero-icon-img {
        width: 60px;
        height: 60px;
        border-radius: 12px;
        background: rgba(255, 255, 255, 0.7);
        backdrop-filter: blur(10px);
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 10px;
        margin-bottom: 8px;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
        border: 1px solid rgba(255, 255, 255, 0.2);
      }
      
      html[data-theme="dark"] .hero-icon-img {
        background: rgba(26, 34, 56, 0.7);
        border: 1px solid rgba(255, 255, 255, 0.1);
      }

      .hero-icon-img img {
        width: 100%;
        height: 100%;
        object-fit: contain;
        filter: brightness(0) saturate(100%);
      }
      
      html[data-theme="dark"] .hero-icon-img img {
        filter: brightness(0) invert(1);
      }

      .hero-icon:hover .hero-icon-img {
        transform: translateY(-5px);
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
      }

      .hero-icon-text {
        color: var(--text-dark);
        font-size: 0.75rem;
        font-weight: 500;
        text-align: center;
        opacity: 0.8;
        transition: opacity 0.3s ease;
      }

      .hero-icon:hover .hero-icon-text {
        opacity: 1;
      }

      /* ========== SECTION / HEADINGS ========== */
      .section {
        padding: 4rem 0;
        scroll-margin-top: calc(var(--header-h) + 14px);
      }
      
      .section h2 {
        position: relative;
        margin-bottom: 2rem;
        font-weight: 700;
      }
      
      .section-underline {
        height: 3px;
        width: 64px;
        background: var(--gradient);
        border-radius: 2px;
        margin-bottom: 2rem;
      }
      
      .bg-white {
        background: var(--bg-white) !important;
      }

      /* ========== CARDS ========== */
      .card {
        border: none;
        border-radius: var(--radius-sm);
        background: var(--bg-white);
        box-shadow: var(--shadow-sm);
        transition: transform 0.35s var(--easing),
          box-shadow 0.35s var(--easing);
        overflow: hidden;
        position: relative;
        height: 100%;
        will-change: transform;
      }
      
      .card:hover {
        transform: translateY(-8px);
        box-shadow: var(--shadow-lg);
      }

      .tool-card::after {
        content: "";
        position: absolute;
        inset: 0;
        background: linear-gradient(135deg, var(--primary-color), transparent);
        opacity: 0;
        transition: opacity 0.35s var(--easing);
        pointer-events: none;
      }
      
      .tool-card:hover::after {
        opacity: 0.06;
      }

      .card-body {
        padding: 1.25rem;
      }
      
      .card-title {
        font-weight: 600;
        color: var(--text-dark);
      }
      
      .card-text {
        color: var(--text-muted);
      }

      .icon-wrap {
        width: 48px;
        height: 48px;
        border-radius: 12px;
        display: grid;
        place-items: center;
        color: #fff;
        flex: 0 0 48px;
      }
      
      .tilt {
        will-change: transform;
        transform-style: preserve-3d;
        transition: transform 0.5s cubic-bezier(0.23, 1, 0.32, 1);
      }

      /* Badges */
      .badge {
        font-size: 0.75rem;
        padding: 0.45rem 0.7rem;
        border-radius: 999px;
      }

      /* Buttons */
      .btn {
        box-shadow: var(--shadow-md);
        border-radius: var(--radius-xs);
        font-weight: 600;
        transition: transform 0.2s var(--easing), box-shadow 0.2s var(--easing);
      }
      
      .btn:hover {
        transform: translateY(-2px);
      }
      
      .btn-primary {
        background: var(--gradient);
        border: none;
      }
      
      .btn-primary:hover {
        color: #ffffff;
      }
      
      .btn-outline-primary {
        border-color: var(--primary-color);
        color: var(--primary-color);
      }
      
      .btn-outline-primary:hover {
        background: var(--primary-color);
        color: #fff;
      }
      
      .btn-outline-light {
        border-color: #fff;
        color: #fff;
      }
      
      .btn-outline-light:hover {
        background: #fff;
        color: #111;
      }

      /* Filter pills */
      .filter-btn {
        border-radius: 999px;
        padding: 0.5rem 1.25rem;
      }
      
      .filter-btn.active {
        background: var(--gradient);
        color: #fff;
        border: none;
      }

      /* Reveal on scroll */
      .reveal {
        opacity: 0;
        transform: translateY(24px);
        transition: all 0.8s var(--easing);
      }
      
      .reveal.in-view {
        opacity: 1;
        transform: none;
      }

      /* No results */
      .no-results-message {
        color: var(--text-muted);
      }

      /* Footer */
      footer {
        background: linear-gradient(135deg, #1f2937 0%, #111827 100%);
        color: #f9fafb;
      }
      
      footer a {
        transition: color 0.25s var(--easing);
      }
      
      footer a:hover {
        color: var(--secondary-color) !important;
      }

      /* Custom scrollbar */
      ::-webkit-scrollbar {
        width: 10px;
        height: 10px;
      }
      
      ::-webkit-scrollbar-track {
        background: transparent;
      }
      
      ::-webkit-scrollbar-thumb {
        background: linear-gradient(
          135deg,
          var(--primary-color),
          var(--secondary-color)
        );
        border-radius: 999px;
      }

      /* Utilities */
      .text-gradient {
        background: var(--gradient);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }
      
      .hero-gradient-tile,
      .highlight-tile {
        height: 200px;
        display: grid;
        place-items: center;
      }
      
      .hero-gradient-tile {
        background: var(--gradient);
      }
      
      .highlight-tile {
        background: linear-gradient(135deg, #f59e0b, #f97316);
      }

      /* Loading animation */
      .loader {
        display: inline-block;
        width: 80px;
        height: 80px;
        margin: 2rem auto;
      }
      
      .loader:after {
        content: " ";
        display: block;
        width: 64px;
        height: 64px;
        border-radius: 50%;
        border-color: var(--primary-color) transparent var(--primary-color)
          transparent;
        animation: loader 1.2s linear infinite;
      }
      
      @keyframes loader {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }

      /* Tool logo */
      .tool-logo {
        width: 48px;
        height: 48px;
        border-radius: 12px;
        object-fit: cover;
        background: #fff;
        padding: 4px;
        box-shadow: var(--shadow-sm);
      }

      /* 3D effect for cards */
      .card-3d {
        transform-style: preserve-3d;
        transform: perspective(1000px);
      }

      /* Floating animation */
      @keyframes float {
        0%,
        100% {
          transform: translateY(0) rotate(0deg);
        }
        50% {
          transform: translateY(-10px) rotate(3deg);
        }
      }

      .float-animation {
        animation: float 6s ease-in-out infinite;
      }

      /* Pulse animation */
      @keyframes pulse {
        0%,
        100% {
          transform: scale(1);
          opacity: 1;
        }
        50% {
          transform: scale(1.05);
          opacity: 0.8;
        }
      }

      .pulse-animation {
        animation: pulse 3s ease-in-out infinite;
      }

      /* Enhanced tool cards */
      .enhanced-card {
        position: relative;
        overflow: hidden;
      }

      .enhanced-card::before {
        content: "";
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: linear-gradient(
          to bottom right,
          rgba(255, 255, 255, 0.1),
          rgba(255, 255, 255, 0.05)
        );
        transform: rotate(45deg);
        transition: all 0.5s ease;
        opacity: 0;
      }

      .enhanced-card:hover::before {
        opacity: 1;
        animation: shine 1.5s forwards;
      }

      @keyframes shine {
        0% {
          transform: translateX(-100%) translateY(-100%) rotate(45deg);
        }
        100% {
          transform: translateX(100%) translateY(100%) rotate(45deg);
        }
      }

      /* Category cards - تصميم جديد مشابه لـ toools.design */
      .category-card {
        border-radius: 16px;
        overflow: hidden;
        transition: all 0.3s ease;
        background: var(--bg-white);
        border: 1px solid var(--border);
        height: 100%;
        display: flex;
        flex-direction: column;
      }
      
      .category-card:hover {
        transform: translateY(-5px);
        box-shadow: var(--shadow-md);
      }
      
      .category-icon {
        width: 64px;
        height: 64px;
        border-radius: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 1rem;
        background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
        color: white;
        font-size: 1.5rem;
      }
      
      .category-title {
        font-weight: 600;
        margin-bottom: 0.5rem;
        text-align: center;
      }
      
      .category-count {
        color: var(--text-muted);
        font-size: 0.9rem;
        text-align: center;
      }
      
      .category-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
        gap: 1.5rem;
      }

      /* RTL improvements */
      body[dir="rtl"] .section-underline {
        margin-right: 0;
        margin-left: auto;
      }

      body[dir="rtl"] .card-title,
      body[dir="rtl"] .card-text {
        text-align: right;
      }

      body[dir="rtl"] .icon-wrap {
        margin-left: 0.5rem;
        margin-right: 0;
      }

      body[dir="rtl"] .d-flex.align-items-start.gap-3.mb-3 {
        flex-direction: row-reverse;
      }

      body[dir="rtl"] .btn {
        font-family: "Tajawal", sans-serif;
      }

      body[dir="rtl"] .filter-btn {
        font-family: "Tajawal", sans-serif;
      }

      /* GSAP animations */
      .gsap-fade-in {
        opacity: 0;
        transform: translateY(20px);
      }

      .barba-container {
        position: relative;
      }

      /* ========== ANIMATIONS ========== */
      @keyframes gradientShift {
        0% {
          background-position: 0% 50%;
        }
        100% {
          background-position: 100% 50%;
        }
      }
      
      @keyframes ripple {
        to {
          transform: scale(4);
          opacity: 0;
        }
      }

      /* Reduce motion preference */
      @media (prefers-reduced-motion: reduce) {
        .hero-bg {
          animation: none;
        }
        .reveal,
        .card,
        .btn {
          transition: none !important;
        }
        .float-animation,
        .pulse-animation {
          animation: none;
        }
        .nav-icon {
          animation: none;
        }
        .hero-icon-img {
          transition: none;
        }
      }

      /* ========== RESPONSIVE ========== */
      @media (max-width: 992px) {
        :root {
          --header-h: 60px;
        }
        
        .hero-section {
          min-height: 60vh;
        }
        
        .hero-title {
          font-size: 2.5rem;
        }
        
        .hero-subtitle {
          font-size: 1.1rem;
        }
        
        .nav-search {
          width: 100%;
          margin-top: 1rem;
        }
        
        .nav-actions {
          flex-direction: column;
          width: 100%;
        }
        
        .category-grid {
          grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
          gap: 1rem;
        }
      }
      
      @media (max-width: 768px) {
        .hero-title {
          font-size: 2rem;
        }
        
        .hero-buttons {
          flex-direction: column;
          align-items: center;
        }
        
        .hero-icons-container {
          gap: 15px;
        }
        
        .hero-icon {
          width: 70px;
        }
        
        .hero-icon-img {
          width: 50px;
          height: 50px;
        }
        
        .category-grid {
          grid-template-columns: repeat(auto-fill, minmax(130px, 1fr));
        }
      }
      
      @media (max-width: 576px) {
        .hero-title {
          font-size: 1.75rem;
        }
        
        .hero-subtitle {
          font-size: 1rem;
        }
        
        .hero-icons-container {
          gap: 10px;
          overflow-x: auto;
          justify-content: flex-start;
          padding-bottom: 10px;
        }
        
        .hero-icon {
          width: 65px;
          flex: 0 0 auto;
        }
        
        .category-grid {
          grid-template-columns: repeat(2, 1fr);
        }
        
        .card-body {
          padding: 1rem;
        }
      }
      .nav-icon img {
        width: 160px;  
        height: 160px; 
        object-fit: contain;
        display: block;
        margin: 0;
        color: var(--primary-color);
        animation: wave 3s infinite;
      }
      .nav-icon-wave {
          display: none;
        }
        
    </style>
</head>

<body>
    <a class="skip-link" href="#main">Skip to content</a>

    <!-- Header -->
    <header class="sticky-top">
        <nav class="navbar navbar-expand-lg">
            <div class="container">
                <a class="navbar-brand" href="#">
                    <img src="./Images/Logo.png" alt="AI Tools Directory" />
                </a>
                
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <i class="fa-solid fa-bars"></i>
                </button>
                
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav mx-auto">
                        <li class="nav-item">
                            <a class="nav-link active" href="#featured" data-en="Tools" data-ar="الأدوات">Tools</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#categories" data-en="Categories" data-ar="الفئات">Categories</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#blog" data-en="Blog" data-ar="المدونة">Blog</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#about" data-en="About" data-ar="من نحن">About</a>
                        </li>
                    </ul>
                    
                    <div class="nav-actions">
                        <div class="input-group nav-search">
                            <input type="text" class="form-control" placeholder="Search AI tools..." id="searchInput" aria-label="Search tools" data-en-placeholder="Search AI tools..." data-ar-placeholder="ابحث عن أدوات الذكاء الاصطناعي..." />
                            <button class="btn btn-outline-secondary" type="button" id="searchBtn" aria-label="Search">
                                <i class="fas fa-search"></i>
                            </button>
                        </div>

                        <button class="btn btn-outline-primary" id="themeToggle" aria-label="Toggle theme">
                            <i class="fa-solid fa-moon"></i>
                        </button>

                        <button class="btn btn-outline-primary" id="langToggle">
                            العربية
                        </button>
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <!-- Hero -->
    <section class="hero-section">
        <div class="hero-content">
            <h1 class="hero-title typewriter" data-typewriter-en="Discover the Best AI Tools for Your Needs" data-typewriter-ar="اكتشف أفضل أدوات الذكاء الاصطناعي لاحتياجاتك">
                Discover the Best AI Tools for Your Needs
            </h1>
            <p class="hero-subtitle">
                <span class="counter" data-count="5000">0</span>+
                <span data-en="AI tools, resources, and technologies to enhance your workflow." data-ar="أداة ذكاء اصطناعي وموارد وتقنيات لتعزيز سير عملك."></span>
            </p>
            
            <div class="hero-buttons">
                <a href="#featured" class="btn btn-primary btn-lg" data-en="Explore Tools" data-ar="استكشف الأدوات">Explore Tools</a>
                <a href="#categories" class="btn btn-outline-primary btn-lg" data-en="Browse Categories" data-ar="تصفح الفئات">Browse Categories</a>
            </div>
            
            <!-- الأيقونات الجديدة في قسم البطل -->
            <div class="hero-icons-container">
                <a href="https://chatgpt.com/" class="nav-icon" target="_blank">
                    <img src="./Images/ChatGPT.png" />
                </a>
            </div>
        </div>
    </section>

    <!-- Category Navigation -->
    <section class="py-4 bg-white">
        <div class="container">
            <div class="d-flex flex-wrap gap-2 gap-md-3 justify-content-center" id="category-filters">
                <!-- سيتم إضافة عوامل التصفية هنا ديناميكيًا -->
            </div>
        </div>
    </section>

    <main id="main">
        <!-- Featured Tools -->
        <section id="featured" class="section reveal">
            <div class="container">
                <div class="d-flex align-items-center justify-content-between mb-4">
                    <h2 class="h3 fw-bold mb-0" data-en="Featured AI Tools" data-ar="أدوات الذكاء الاصطناعي المميزة">
                        Featured AI Tools
                    </h2>
                    <div class="section-underline"></div>
                </div>

                <div class="row g-4 card-grid" id="featured-tools-container">
                    <div class="col-12 text-center">
                        <div class="loader"></div>
                        <p class="mt-3" data-en="Loading AI tools..." data-ar="جاري تحميل أدوات الذكاء الاصطناعي...">
                            Loading AI tools...
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Categories Section -->
        <section id="categories" class="section bg-white reveal">
            <div class="container">
                <div class="d-flex align-items-center justify-content-between mb-4">
                    <h2 class="h3 fw-bold mb-0" data-en="AI Tools Categories" data-ar="فئات أدوات الذكاء الاصطناعي">
                        AI Tools Categories
                    </h2>
                    <div class="section-underline"></div>
                </div>
                
                <div class="category-grid" id="categories-container">
                    <!-- سيتم إضافة الفئات هنا ديناميكيًا -->
                </div>
            </div>
        </section>

        <!-- Trending Blog Posts -->
        <section id="blog" class="section reveal">
            <div class="container">
                <h2 class="h3 fw-bold mb-4" data-en="AI News & Insights" data-ar="أخبار الذكاء الاصطناعي ورؤى">
                    AI News & Insights
                </h2>
                <div class="row g-4">
                    <div class="col-lg-4 col-md-6">
                        <div class="card tool-card card-3d enhanced-card">
                            <div class="card-img-top hero-gradient-tile">
                                <i class="fas fa-brain fa-3x text-white"></i>
                            </div>
                            <div class="card-body">
                                <h5 class="card-title" data-en="The Future of Generative AI in 2025" data-ar="مستقبل الذكاء الاصطناعي التوليدي في 2025">
                                    The Future of Generative AI in 2025
                                </h5>
                                <p class="card-text" data-en="Explore how generative AI is transforming industries and what to expect in the coming year." data-ar="استكشف كيف يقوم الذكاء الاصطناعي التوليدي بتحويل الصناعات وما يمكن توقعه في العام القادم.">
                                    Explore how generative AI is transforming industries and what to expect in the coming year.
                                </p>
                                <div class="d-flex justify-content-between align-items-center">
                                    <small class="text-muted" data-en="8 min read" data-ar="8 دقائق قراءة">8 min read</small>
                                    <a class="btn btn-sm btn-outline-primary" href="https://openai.com/blog" target="_blank" data-en="Read More" data-ar="اقرأ المزيد">Read More</a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-4 col-md-6">
                        <div class="card tool-card card-3d enhanced-card">
                            <div class="card-img-top highlight-tile">
                                <i class="fas fa-robot fa-3x text-white"></i>
                            </div>
                            <div class="card-body">
                                <h5 class="card-title" data-en="How AI is Revolutionizing Content Creation" data-ar="كيف يقوم الذكاء الاصطناعي بإحداث ثورة في إنشاء المحتوى">
                                    How AI is Revolutionizing Content Creation
                                </h5>
                                <p class="card-text" data-en="Discover the latest AI tools that are changing how content is created and consumed." data-ar="اكتشف أحدث أدوات الذكاء الاصطناعي التي تغير طريقة إنشاء المحتوى واستهلاكه.">
                                    Discover the latest AI tools that are changing how content is created and consumed.
                                </p>
                                <div class="d-flex justify-content-between align-items-center">
                                    <small class="text-muted" data-en="6 min read" data-ar="6 دقائق قراءة">6 min read</small>
                                    <a class="btn btn-sm btn-outline-primary" href="https://www.anthropic.com/index" target="_blank" data-en="Read More" data-ar="اقرأ المزيد">Read More</a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-4 col-md-6">
                        <div class="card tool-card card-3d enhanced-card">
                            <div class="card-img-top" style="background: linear-gradient(135deg, #10b981, #059669); height: 200px; display: grid; place-items: center;">
                                <i class="fas fa-chart-line fa-3x text-white"></i>
                            </div>
                            <div class="card-body">
                                <h5 class="card-title" data-en="AI in Business: Maximizing ROI" data-ar="الذكاء الاصطناعي في الأعمال: تعظيم العائد على الاستثمار">
                                    AI in Business: Maximizing ROI
                                </h5>
                                <p class="card-text" data-en="Learn how businesses are leveraging AI to improve efficiency and drive growth." data-ar="تعلم كيف تستفيد الشركات من الذكاء الاصطناعي لتحسين الكفاءة ودفع النمو.">
                                    Learn how businesses are leveraging AI to improve efficiency and drive growth.
                                </p>
                                <div class="d-flex justify-content-between align-items-center">
                                    <small class="text-muted" data-en="10 min read" data-ar="10 دقائق قراءة">10 min read</small>
                                    <a class="btn btn-sm btn-outline-primary" href="https://www.mckinsey.com/featured-insights/artificial-intelligence" target="_blank" data-en="Read More" data-ar="اقرأ المزيد">Read More</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- About Section -->
        <section id="about" class="section bg-white reveal">
            <div class="container">
                <h2 class="h3 fw-bold mb-4" data-en="About Us" data-ar="عننا">About Us</h2>
                <div class="row">
                    <div class="col-lg-6">
                        <p data-en="We are dedicated to providing the best AI tools directory to help you find the perfect solution for your needs. Our team constantly updates the database with new tools and resources." data-ar="نحن ملتزمون بتقديم أفضل دليل لأدوات الذكاء الاصطناعي لمساعدتك في العثور على الحل المثالي لاحتياجاتك. يقوم فريقنا بتحديث قاعدة البيانات باستمرار بأدوات وموارد جديدة.">
                            We are dedicated to providing the best AI tools directory to help you find the perfect solution for your needs. Our team constantly updates the database with new tools and resources.
                        </p>
                    </div>
                    <div class="col-lg-6">
                        <p data-en="Our mission is to make AI accessible to everyone by curating the most comprehensive and up-to-date collection of AI tools available on the internet." data-ar="مهمتنا هي جعل الذكاء الاصطناعي في متناول الجميع من خلال تجميع مجموعة شاملة ومحدثة من أدوات الذكاء الاصطناعي المتاحة على الإنترنت.">
                            Our mission is to make AI accessible to everyone by curating the most comprehensive and up-to-date collection of AI tools available on the internet.
                        </p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="text-white pt-5">
        <div class="container">
            <div class="row g-4">
                <div class="col-lg-3 col-md-6">
                    <h5 class="fw-bold mb-3" data-en="AI Tools Hub" data-ar="مركز أدوات الذكاء الاصطناعي">AI Tools Hub</h5>
                    <p class="text-light opacity-75" data-en="A comprehensive directory of AI tools, resources, and technologies for the modern creator and developer." data-ar="دليل شامل لأدوات الذكاء الاصطناعي والموارد والتقنيات للمبدع والمطور الحديث.">
                        A comprehensive directory of AI tools, resources, and technologies for the modern creator and developer.
                    </p>
                    <div class="d-flex gap-3 fs-5">
                        <a href="https://x.com" class="text-light"><i class="fab fa-twitter"></i></a>
                        <a href="https://facebook.com" class="text-light"><i class="fab fa-facebook"></i></a>
                        <a href="https://instagram.com" class="text-light"><i class="fab fa-instagram"></i></a>
                        <a href="https://linkedin.com" class="text-light"><i class="fab fa-linkedin"></i></a>
                    </div>
                </div>

                <div class="col-lg-3 col-md-6">
                    <h6 class="fw-bold mb-3" data-en="Categories" data-ar="الفئات">Categories</h6>
                    <ul class="list-unstyled" id="footer-categories">
                        <!-- سيتم إضافة الفئات هنا ديناميكيًا -->
                    </ul>
                </div>

                <div class="col-lg-3 col-md-6">
                    <h6 class="fw-bold mb-3" data-en="Company" data-ar="الشركة">Company</h6>
                    <ul class="list-unstyled">
                        <li><a href="#about" class="text-light text-decoration-none" data-en="About Us" data-ar="من نحن">About Us</a></li>
                        <li><a href="#contact" class="text-light text-decoration-none" data-en="Contact" data-ar="اتصل بنا">Contact</a></li>
                        <li><a href="https://example.com/privacy" class="text-light text-decoration-none" data-en="Privacy Policy" data-ar="سياسة الخصوصية">Privacy Policy</a></li>
                        <li><a href="https://example.com/terms" class="text-light text-decoration-none" data-en="Terms of Service" data-ar="شروط الخدمة">Terms of Service</a></li>
                    </ul>
                </div>

                <div class="col-lg-3 col-md-6">
                    <h6 class="fw-bold mb-3" data-en="Newsletter" data-ar="النشرة الإخبارية">Newsletter</h6>
                    <p class="text-light opacity-75" data-en="Stay updated with the latest AI tools and resources." data-ar="ابق على اطلاع بأحدث أدوات الذكاء الاصطناعي والموارد.">
                        Stay updated with the latest AI tools and resources.
                    </p>
                    <div class="input-group">
                        <input type="email" class="form-control" placeholder="Enter your email" data-en-placeholder="Enter your email" data-ar-placeholder="أدخل بريدك الإلكتروني" />
                        <button class="btn btn-primary" type="button" data-en="Subscribe" data-ar="اشترك">Subscribe</button>
                    </div>
                </div>
            </div>

            <hr class="my-4 opacity-25" />
            <div class="row align-items-center pb-4">
                <div class="col-md-6">
                    <p class="mb-0 text-light opacity-75">
                        &copy; 2025 <span data-en="AI Tools Hub" data-ar="مركز أدوات الذكاء الاصطناعي">AI Tools Hub</span>.
                        <span data-en="All rights reserved." data-ar="جميع الحقوق محفوظة.">All rights reserved.</span>
                    </p>
                </div>
                <div class="col-md-6 text-md-end">
                    <a href="#main" class="text-light text-decoration-none me-3" data-en="Back to Top" data-ar="العودة إلى الأعلى">Back to Top</a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        // بيانات الأدوات (نفس البيانات السابقة)
        const aiTools = [
            {
                name: "PrompTessor",
                url: "https://promptessor.com/",
                category: "Prompt Optimization",
                description: "PrompTessor is a tool for enhancing AI interactions by analyzing and optimizing prompts.",
                description_ar: "PrompTessor أداة لتحسين تفاعل المستخدم مع الذكاء الاصطناعي عبر تحليل وتحسين الـ prompts.",
                pricing: "Freemium",
                logo: "https://media.theresanaiforthat.com/promptessor.png?height=768",
                icon: "fa-magic",
                featured: true,
            },
            {
                name: "GeoFinderAI",
                url: "https://geofinderai.com/",
                category: "Image Analysis",
                description: "GeoFinderAI is an AI-powered tool designed to detect the geographic location of any uploaded image with high accuracy.",
                description_ar: "GeoFinderAI أداة ذكاء اصطناعي مصممة للكشف عن الموقع الجغرافي لأي صورة يتم تحميلها بدقة عالية.",
                pricing: "Freemium",
                logo: "https://media.theresanaiforthat.com/geofinderai.png",
                icon: "fa-map-marker-alt",
                featured: false,
            },
            {
                name: "Speechmatics | AI Voice Agents",
                url: "https://www.speechmatics.com/",
                category: "Speech Recognition",
                description: "Speechmatics empowers businesses to create responsive, accurate, and globally scalable voice-driven assistants.",
                description_ar: "Speechmatics يمكن الشركات من إنشاء مساعدات صوتية سريعة الاستجابة ودقيقة وقابلة للتوسع عالميًا.",
                pricing: "Paid",
                logo: "https://media.theresanaiforthat.com/speechmatics-ai-voice-agents.png",
                icon: "fa-microphone",
                featured: true,
            },
            {
                name: "Marblism",
                url: "https://theresanaiforthat.com/ai/marblism/",
                category: "Productivity",
                description: "Marblism helps you manage multiple tasks and roles efficiently with AI assistance.",
                description_ar: "Marblism يساعدك في إدارة مهام وأدوار متعددة بكفاءة بمساعدة الذكاء الاصطناعي.",
                pricing: "Freemium",
                logo: "https://media.theresanaiforthat.com/marblism.png",
                icon: "fa-tasks",
                featured: false,
            },
            {
                name: "Emergent",
                url: "https://app.emergent.sh/",
                category: "Development",
                description: "Emergent is the first agentic vibecoding platform built for serious builders.",
                description_ar: "Emergent هي أول منصة برمجة وكيلية مبنية للمطورين الجادين.",
                pricing: "Paid",
                logo: "https://media.theresanaiforthat.com/emergent.png",
                icon: "fa-code",
                featured: false,
            },
            {
                name: "PixieBrix",
                url: "https://www.pixiebrix.com/",
                category: "Enterprise AI",
                description: "One enterprise platform to orchestrate and deploy AI assistance & agents that transform work.",
                description_ar: "منصة مؤسسية واحدة لتنسيق ونشر مساعدات الذكاء الاصطناعي والوكلاء الذين يحولون العمل.",
                pricing: "Enterprise",
                logo: "https://media.theresanaiforthat.com/pixiebrix.png",
                icon: "fa-building",
                featured: false,
            },
            {
                name: "ColorHippo",
                url: "https://colorhippo.com/",
                category: "Creative",
                description: "ColorHippo is an AI tool designed to generate customizable coloring pages from either text prompts or photos.",
                description_ar: "ColorHippo هي أداة ذكاء اصطناعي مصممة لإنشاء صفحات تلوين قابلة للتخصيص من نصوص أو صور.",
                pricing: "Freemium",
                logo: "https://media.theresanaiforthat.com/colorhippo.png",
                icon: "fa-palette",
                featured: false,
            },
            {
                name: "Musico",
                url: "https://www.musi-co.com/",
                category: "Music",
                description: "Musico is a generative AI software engine specialized in music creation.",
                description_ar: "Musico هو محرك برمجي ذكي توليدي متخصص في إنشاء الموسيقى.",
                pricing: "Freemium",
                logo: "https://media.theresanaiforthat.com/musico.png",
                icon: "fa-music",
                featured: false,
            },
            {
                name: "RiskInMind AI",
                url: "https://www.riskinmind.ai/",
                category: "Finance",
                description: "RiskInMind is an AI-powered risk management tool designed for contemporary financial institutions.",
                description_ar: "RiskInMind هي أداة ذكية لإدارة المخاطر مصممة للمؤسسات المالية المعاصرة.",
                pricing: "Enterprise",
                logo: "https://media.theresanaiforthat.com/riskinmind-ai.png",
                icon: "fa-chart-line",
                featured: false,
            },
            {
                name: "Fotol AI",
                url: "https://fotol.ai/",
                category: "Multimedia",
                description: "Fotol AI is an AI solutions integration platform that brings together nearly all the powerful AIs available.",
                description_ar: "Fotol AI هي منصة تكامل حلول الذكاء الاصطناعي التي تجمع معًا جميع الذكاءات الاصطناعية القوية المتاحة تقريبًا.",
                pricing: "Freemium",
                logo: "https://media.theresanaiforthat.com/fotol-ai-image-generator.png",
                icon: "fa-images",
                featured: false,
            },
            {
                name: "Photo AI",
                url: "https://photoai.com/",
                category: "Image Generation",
                description: "Photo AI is a revolutionary artificial intelligence tool that allows users to generate photorealistic images.",
                description_ar: "Photo AI هي أداة ذكاء اصطناعي ثورية تتيح للمستخدمين إنشاء صور واقعية.",
                pricing: "Paid",
                logo: "https://media.theresanaiforthat.com/photo-ai.png",
                icon: "fa-camera",
                featured: true,
            },
            {
                name: "Img2Video AI",
                url: "https://img2videoai.com/",
                category: "Video Generation",
                description: "Img2Video AI is an online AI tool designed to transform static images into realistic videos.",
                description_ar: "Img2Video AI هي أداة ذكاء اصطناعي عبر الإنترنت مصممة لتحويل الصور الثابتة إلى مقاطع فيديو واقعية.",
                pricing: "Freemium",
                logo: "https://media.theresanaiforthat.com/img2video-ai.png",
                icon: "fa-video",
                featured: false,
            }
        ];

        // فئات جديدة مشابهة لـ toools.design و futuretools.io
        const categories = [
            { name: "Text Generation", name_ar: "توليد النص", icon: "fa-font", count: 24 },
            { name: "Image Generation", name_ar: "توليد الصور", icon: "fa-image", count: 18 },
            { name: "Video Generation", name_ar: "توليد الفيديو", icon: "fa-video", count: 12 },
            { name: "Audio Generation", name_ar: "توليد الصوت", icon: "fa-music", count: 8 },
            { name: "Code Generation", name_ar: "توليد الكود", icon: "fa-code", count: 15 },
            { name: "Writing Assistant", name_ar: "مساعد الكتابة", icon: "fa-pencil-alt", count: 20 },
            { name: "Productivity", name_ar: "الإنتاجية", icon: "fa-tasks", count: 22 },
            { name: "Research", name_ar: "البحث", icon: "fa-search", count: 10 },
            { name: "Design", name_ar: "التصميم", icon: "fa-paint-brush", count: 14 },
            { name: "Marketing", name_ar: "التسويق", icon: "fa-bullhorn", count: 16 },
            { name: "Education", name_ar: "التعليم", icon: "fa-graduation-cap", count: 9 },
            { name: "Business", name_ar: "الأعمال", icon: "fa-briefcase", count: 13 },
            { name: "Healthcare", name_ar: "الرعاية الصحية", icon: "fa-heartbeat", count: 7 },
            { name: "Finance", name_ar: "التمويل", icon: "fa-chart-line", count: 11 },
            { name: "Legal", name_ar: "القانون", icon: "fa-gavel", count: 5 },
            { name: "Customer Service", name_ar: "خدمة العملاء", icon: "fa-headset", count: 8 }
        ];

        // باقي الكود JavaScript يبقى كما هو مع تعديلات طفيفة لدعم التصميم الجديد
        const themeToggle = document.getElementById("themeToggle");
        const langToggle = document.getElementById("langToggle");
        const searchInput = document.getElementById("searchInput");
        const searchBtn = document.getElementById("searchBtn");
        const featuredToolsContainer = document.getElementById("featured-tools-container");
        const categoriesContainer = document.getElementById("categories-container");
        const categoryFilters = document.getElementById("category-filters");
        const footerCategories = document.getElementById("footer-categories");

        // Current state
        let currentTheme = "light";
        let currentLang = "en";
        let currentFilter = "all";

        // Initialize the page
        function initPage() {
            // Set initial theme
            const savedTheme = localStorage.getItem("theme") || "light";
            setTheme(savedTheme);

            // Set initial language
            const savedLang = localStorage.getItem("lang") || "en";
            setLanguage(savedLang);

            // Render tools and categories
            renderTools();
            renderCategories();
            renderCategoryFilters();
            renderFooterCategories();

            // Setup event listeners
            setupEventListeners();

            // Start animations
            startAnimations();

            // Initialize GSAP animations
            initGSAPAnimations();
        }

        // Set theme
        function setTheme(theme) {
            currentTheme = theme;
            document.documentElement.setAttribute("data-theme", theme);
            localStorage.setItem("theme", theme);

            // Update theme toggle icon
            const icon = themeToggle.querySelector("i");
            if (theme === "dark") {
                icon.classList.remove("fa-moon");
                icon.classList.add("fa-sun");
            } else {
                icon.classList.remove("fa-sun");
                icon.classList.add("fa-moon");
            }
        }

        // Set language
        function setLanguage(lang) {
            currentLang = lang;
            document.documentElement.setAttribute("dir", lang === "ar" ? "rtl" : "ltr");
            document.documentElement.setAttribute("lang", lang);
            localStorage.setItem("lang", lang);

            // Update language toggle text
            langToggle.textContent = lang === "en" ? "العربية" : "English";

            // Update all translatable elements
            updateTextContent();
        }

        // Update text content based on current language
        function updateTextContent() {
            // Get all elements with data attributes for translation
            const translatableElements = document.querySelectorAll("[data-en], [data-ar]");

            translatableElements.forEach((element) => {
                if (currentLang === "en") {
                    if (element.hasAttribute("data-en")) {
                        element.textContent = element.getAttribute("data-en");
                    }
                    if (element.hasAttribute("data-en-placeholder")) {
                        element.setAttribute("placeholder", element.getAttribute("data-en-placeholder"));
                    }
                } else {
                    if (element.hasAttribute("data-ar")) {
                        element.textContent = element.getAttribute("data-ar");
                    }
                    if (element.hasAttribute("data-ar-placeholder")) {
                        element.setAttribute("placeholder", element.getAttribute("data-ar-placeholder"));
                    }
                }
            });

            // Update typewriter text
            const typewriter = document.querySelector(".typewriter");
            if (typewriter) {
                if (currentLang === "en") {
                    typewriter.textContent = typewriter.getAttribute("data-typewriter-en");
                } else {
                    typewriter.textContent = typewriter.getAttribute("data-typewriter-ar");
                }
            }
        }

        // Render tools
        function renderTools() {
            // Clear loading state
            featuredToolsContainer.innerHTML = "";

            // Filter tools based on current filter
            let filteredTools = currentFilter === "all" 
                ? aiTools 
                : aiTools.filter(tool => tool.category === currentFilter);

            // ترتيب: المميزة أولاً ثم بالاسم أبجديًا
            filteredTools = [...filteredTools].sort((a, b) => {
                if ((b.featured === true) !== (a.featured === true)) {
                    return (b.featured === true) ? 1 : -1;
                }
                return a.name.localeCompare(
                    b.name,
                    currentLang === "ar" ? "ar" : "en",
                    { sensitivity: "base" }
                );
            });

            // Render tools
            if (filteredTools.length === 0) {
                featuredToolsContainer.innerHTML = `
          <div class="col-12 text-center py-5">
            <i class="fas fa-search fa-3x mb-3 text-muted"></i>
            <p class="no-results-message" data-en="No tools found. Try a different filter." data-ar="لم يتم العثور على أدوات. جرب عامل تصفية مختلف.">No tools found. Try a different filter.</p>
          </div>
        `;
                updateTextContent();
                return;
            }

            filteredTools.forEach((tool) => {
                // تحقق من البيانات الأساسية للأداة
                if (!tool.name || !tool.category) {
                    console.warn('Tool missing required data:', tool);
                    return; // تخطي الأدوات التي تفتقد بيانات أساسية
                }

                const toolCard = document.createElement("div");
                toolCard.className = "col-lg-4 col-md-6";

                // استخدم بيانات افتراضية إذا كانت البيانات غير موجودة
                const toolName = tool.name || 'Unnamed Tool';
                const toolCategory = tool.category || 'Other';
                const toolDescription = currentLang === "en"
                    ? (tool.description || 'No description available')
                    : (tool.description_ar || tool.description || 'لا يتوفر وصف');
                const toolLogo = tool.logo || 'https://via.placeholder.com/150?text=No+Image';
                const toolIcon = tool.icon || 'fa-robot';

                toolCard.innerHTML = `
          <div class="card tool-card card-3d tilt enhanced-card">
            <div class="card-img-top position-relative" style="height: 160px; overflow: hidden; background: linear-gradient(135deg, #401F71, #BE7B72);">
              <img src="${toolLogo}" alt="${toolName}" class="w-100 h-100 object-fit-contain p-3" style="object-fit: contain; background: white;">
              ${tool.featured ? `<span class="position-absolute top-0 end-0 m-2 badge bg-primary">${currentLang === "en" ? "Featured" : "مميز"}</span>` : ''}
            </div>
            <div class="card-body">
              <div class="d-flex align-items-start gap-3 mb-3">
                <div class="icon-wrap" style="background: linear-gradient(135deg, #401F71, #BE7B72);">
                  <i class="${toolIcon} fa-lg"></i>
                </div>
                <div>
                  <h5 class="card-title">${toolName}</h5>
                  <span class="badge bg-light text-dark">${currentLang === "en"
                        ? toolCategory
                        : (categories.find((c) => c.name === toolCategory)?.name_ar || toolCategory)
                    }</span>
                </div>
              </div>
              <p class="card-text">${toolDescription}</p>
              <div class="d-flex justify-content-between align-items-center mt-3">
                <a href="${tool.url || '#'}" target="_blank" class="btn btn-sm btn-primary" data-en="Visit Website" data-ar="زيارة الموقع">Visit Website</a>
                <div class="d-flex gap-2">
                  <button class="btn btn-sm btn-outline-secondary">
                    <i class="far fa-star"></i>
                  </button>
                  <button class="btn btn-sm btn-outline-secondary">
                    <i class="far fa-bookmark"></i>
                  </button>
                </div>
              </div>
            </div>
          </div>
        `;
                featuredToolsContainer.appendChild(toolCard);
            });

            // Update text content for newly added elements
            updateTextContent();

            // Initialize 3D tilt effect
            initTiltEffect();
        }

        // Render categories with new design
        function renderCategories() {
            categoriesContainer.innerHTML = "";
            categories.forEach((category) => {
                const categoryCard = document.createElement("div");
                categoryCard.className = "category-card";
                categoryCard.innerHTML = `
                    <div class="card-body d-flex flex-column align-items-center justify-content-center p-4">
                        <div class="category-icon">
                            <i class="${category.icon}"></i>
                        </div>
                        <h5 class="category-title">${currentLang === "en" ? category.name : category.name_ar}</h5>
                        <p class="category-count">${category.count} ${currentLang === "en" ? "tools" : "أداة"}</p>
                    </div>
                `;
                categoriesContainer.appendChild(categoryCard);
            });

            // Update text content for newly added elements
            updateTextContent();
        }

        // Render category filters
        function renderCategoryFilters() {
            // Clear existing filters first to prevent duplication
            categoryFilters.innerHTML = "";

            // Add "All" filter
            const allFilter = document.createElement("button");
            allFilter.className = `btn btn-outline-primary filter-btn ${currentFilter === "all" ? "active" : ""}`;
            allFilter.setAttribute("data-filter", "all");
            allFilter.setAttribute("data-en", "All");
            allFilter.setAttribute("data-ar", "الكل");
            allFilter.textContent = currentLang === "en" ? "All" : "الكل";
            categoryFilters.appendChild(allFilter);

            // Add category filters
            categories.forEach((category) => {
                const filterBtn = document.createElement("button");
                filterBtn.className = `btn btn-outline-primary filter-btn ${currentFilter === category.name ? "active" : ""}`;
                filterBtn.setAttribute("data-filter", category.name);
                filterBtn.setAttribute("data-en", category.name);
                filterBtn.setAttribute("data-ar", category.name_ar);
                filterBtn.textContent = currentLang === "en" ? category.name : category.name_ar;
                categoryFilters.appendChild(filterBtn);
            });
        }

        // Render footer categories
        function renderFooterCategories() {
            // Clear existing categories first to prevent duplication
            footerCategories.innerHTML = "";

            categories.slice(0, 5).forEach((category) => {
                const listItem = document.createElement("li");
                listItem.className = "mb-2";
                listItem.innerHTML = `
                <a href="#" class="text-light text-decoration-none" data-filter="${category.name}">${currentLang === "en" ? category.name : category.name_ar}</a>
              `;
                footerCategories.appendChild(listItem);
            });
        }

        // Initialize 3D tilt effect
        function initTiltEffect() {
            const tiltElements = document.querySelectorAll(".tilt");

            tiltElements.forEach((el) => {
                el.addEventListener("mousemove", (e) => {
                    const rect = el.getBoundingClientRect();
                    const x = e.clientX - rect.left;
                    const y = e.clientY - rect.top;

                    const centerX = rect.width / 2;
                    const centerY = rect.height / 2;

                    const rotateY = (x - centerX) / 25;
                    const rotateX = (centerY - y) / 25;

                    el.style.transform = `perspective(1000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg) scale3d(1.02, 1.02, 1.02)`;
                });

                el.addEventListener("mouseleave", () => {
                    gsap.to(el, {
                        duration: 0.5,
                        transform: "perspective(1000px) rotateX(0) rotateY(0) scale3d(1, 1, 1)",
                        ease: "power2.out",
                    });
                });
            });
        }

        // Setup event listeners
        function setupEventListeners() {
            // Theme toggle
            themeToggle.addEventListener("click", () => {
                const newTheme = currentTheme === "light" ? "dark" : "light";
                setTheme(newTheme);
            });

            // Language toggle
            langToggle.addEventListener("click", () => {
                const newLang = currentLang === "en" ? "ar" : "en";
                setLanguage(newLang);
                // Re-render content with new language
                renderTools();
                renderCategories();
                renderCategoryFilters();
                renderFooterCategories();
            });

            // Search functionality
            searchBtn.addEventListener("click", handleSearch);
            searchInput.addEventListener("keyup", (e) => {
                if (e.key === "Enter") {
                    handleSearch();
                }
            });

            // Category filter buttons
            document.addEventListener("click", (e) => {
                if (e.target.classList.contains("filter-btn")) {
                    const filter = e.target.getAttribute("data-filter");
                    currentFilter = filter;

                    // Update active state
                    document.querySelectorAll(".filter-btn").forEach((btn) => btn.classList.remove("active"));
                    e.target.classList.add("active");

                    // Re-render tools
                    renderTools();
                }

                // Handle category card clicks
                if (e.target.hasAttribute("data-filter")) {
                    const filter = e.target.getAttribute("data-filter");
                    currentFilter = filter;

                    // Update active state
                    document.querySelectorAll(".filter-btn").forEach((btn) => btn.classList.remove("active"));
                    document.querySelector(`[data-filter="${filter}"]`).classList.add("active");

                    // Re-render tools
                    renderTools();

                    // Scroll to featured section
                    document.getElementById("featured").scrollIntoView({ behavior: "smooth" });
                }
            });

            // Parallax effect for blobs
            document.addEventListener("mousemove", handleParallax);

            // Reveal on scroll
            window.addEventListener("scroll", handleScrollReveal);
            handleScrollReveal(); // Initial check
        }

        // Handle search
        function handleSearch() {
            const searchTerm = searchInput.value.toLowerCase();

            // البحث في جميع الحقول
            const filtered = aiTools.filter(tool =>
                tool.name.toLowerCase().includes(searchTerm) ||
                (tool.description || "").toLowerCase().includes(searchTerm) ||
                (tool.description_ar || "").toLowerCase().includes(searchTerm) ||
                tool.category.toLowerCase().includes(searchTerm)
            );
            
            if (searchTerm.trim() === "") {
                currentFilter = "all";
                document.querySelectorAll(".filter-btn").forEach((btn) => btn.classList.remove("active"));
                document.querySelector('[data-filter="all"]').classList.add("active");
                renderTools();
                return;
            }

            // ترتيب: المميزة أولاً ثم بالاسم أبجديًا
            const sortedTools = [...filtered].sort((a, b) => {
                if ((b.featured === true) !== (a.featured === true)) {
                    return (b.featured === true) ? 1 : -1;
                }
                return a.name.localeCompare(
                    b.name,
                    currentLang === "ar" ? "ar" : "en",
                    { sensitivity: "base" }
                );
            });

            // Update UI
            featuredToolsContainer.innerHTML = "";

            if (sortedTools.length === 0) {
                featuredToolsContainer.innerHTML = `
                <div class="col-12 text-center py-5">
                  <i class="fas fa-search fa-3x mb-3 text-muted"></i>
                  <p class="no-results-message" data-en="No tools found matching your search." data-ar="لم يتم العثور على أدوات تطابق بحثك.">No tools found matching your search.</p>
                </div>
              `;
                updateTextContent();
                return;
            }

            sortedTools.forEach((tool) => {
                const toolCard = document.createElement("div");
                toolCard.className = "col-lg-4 col-md-6";
                toolCard.innerHTML = `
                <div class="card tool-card card-3d tilt enhanced-card">
                  <div class="card-img-top position-relative" style="height: 160px; overflow: hidden; background: linear-gradient(135deg, #401F71, #BE7B72);">
                    <img src="${tool.logo}" alt="${tool.name}" class="w-100 h-100 object-fit-contain p-3" style="object-fit: contain; background: white;">
                    <span class="position-absolute top-0 end-0 m-2 badge bg-primary">${tool.featured
                        ? currentLang === "en" ? "Featured" : "مميز"
                        : ""}</span>
                  </div>
                  <div class="card-body">
                    <div class="d-flex align-items-start gap-3 mb-3">
                      <div class="icon-wrap" style="background: linear-gradient(135deg, #401F71, #BE7B72);">
                        <i class="${tool.icon} fa-lg"></i>
                      </div>
                      <div>
                        <h5 class="card-title">${tool.name}</h5>
                        <span class="badge bg-light text-dark">${currentLang === "en"
                        ? tool.category
                        : categories.find((c) => c.name === tool.category)?.name_ar || tool.category
                    }</span>
                      </div>
                    </div>
                    <p class="card-text">${currentLang === "en"
                        ? (tool.description || "")
                        : (tool.description_ar || tool.description || "")
                    }</p>
                    <div class="d-flex justify-content-between align-items-center mt-3">
                      <a href="${tool.url}" target="_blank" class="btn btn-sm btn-primary" data-en="Visit Website" data-ar="زيارة الموقع">Visit Website</a>
                      <div class="d-flex gap-2">
                        <button class="btn btn-sm btn-outline-secondary">
                          <i class="far fa-star"></i>
                        </button>
                        <button class="btn btn-sm btn-outline-secondary">
                          <i class="far fa-bookmark"></i>
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
              `;
                featuredToolsContainer.appendChild(toolCard);
            });

            // Update text content for newly added elements
            updateTextContent();

            // Initialize 3D tilt effect
            initTiltEffect();
        }

        // Handle parallax effect
        function handleParallax(e) {
            const blobs = document.querySelectorAll("[data-parallax]");
            const x = (window.innerWidth - e.pageX * 2) / 50;
            const y = (window.innerHeight - e.pageY * 2) / 50;

            blobs.forEach((blob) => {
                const speed = parseFloat(blob.getAttribute("data-speed") || 0.2);
                blob.style.transform = `translate(${x * speed}px, ${y * speed}px)`;
            });
        }

        // Handle scroll reveal
        function handleScrollReveal() {
            const reveals = document.querySelectorAll(".reveal");
            reveals.forEach((reveal) => {
                const windowHeight = window.innerHeight;
                const elementTop = reveal.getBoundingClientRect().top;
                const elementVisible = 150;

                if (elementTop < windowHeight - elementVisible) {
                    reveal.classList.add("in-view");
                }
            });
        }

        // Start animations
        function startAnimations() {
            // Counter animation
            const counter = document.querySelector(".counter");
            if (counter) {
                const target = parseInt(counter.getAttribute("data-count"));
                let count = 0;
                const duration = 2000; // ms
                const frameRate = 1000 / 60; // 60fps
                const totalFrames = Math.round(duration / frameRate);
                const increment = target / totalFrames;

                const timer = setInterval(() => {
                    count += increment;
                    counter.textContent = Math.round(count);
                    if (count >= target) {
                        counter.textContent = target;
                        clearInterval(timer);
                    }
                }, frameRate);
            }

            // Typewriter effect
            const typewriter = document.querySelector(".typewriter");
            if (typewriter) {
                const text = currentLang === "en"
                    ? typewriter.getAttribute("data-typewriter-en")
                    : typewriter.getAttribute("data-typewriter-ar");
                typewriter.textContent = "";
                let i = 0;
                const type = () => {
                    if (i < text.length) {
                        typewriter.textContent += text.charAt(i);
                        i++;
                        setTimeout(type, 50);
                    } else {
                        typewriter.style.borderRight = "none";
                    }
                };
                type();
            }

            // Floating animation for some elements
            const floatingElements = document.querySelectorAll(".float-animation");
            floatingElements.forEach((el) => {
                el.style.animationDelay = `${Math.random() * 2}s`;
            });
        }

        // Initialize GSAP animations
        function initGSAPAnimations() {
            // Animate elements on scroll
            gsap.registerPlugin(ScrollTrigger);

            gsap.utils.toArray(".reveal").forEach((el) => {
                gsap.fromTo(
                    el,
                    {
                        opacity: 0,
                        y: 50,
                    },
                    {
                        opacity: 1,
                        y: 0,
                        duration: 1,
                        scrollTrigger: {
                            trigger: el,
                            start: "top 80%",
                            toggleActions: "play none none reverse",
                        },
                    }
                );
            });

            // Animate cards on hover
            gsap.utils.toArray(".card").forEach((card) => {
                card.addEventListener("mouseenter", () => {
                    gsap.to(card, {
                        y: -10,
                        duration: 0.3,
                        ease: "power2.out",
                    });
                });

                card.addEventListener("mouseleave", () => {
                    gsap.to(card, {
                        y: 0,
                        duration: 0.3,
                        ease: "power2.out",
                    });
                });
            });
        }

        document.addEventListener("DOMContentLoaded", initPage);
    </script>
</body>
</html>